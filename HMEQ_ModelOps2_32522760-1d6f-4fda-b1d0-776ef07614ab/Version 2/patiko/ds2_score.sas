ds2_options sas tkgmac scond=none;
 data SASEP.out;
 #_local _P_;
 #_local _NEW_ID_;
 #_local _NODE_ID_;
 #_local _NUMVAL_;
 #_local _DT_PRED_PROB_;
 #_local _DT_PRED_LEV_;
 #_local _I_;
 #_local _DT_PREDP_;
 dcl double "IMP_CLAGE";
 dcl double "IMP_CLNO";
 dcl double "IMP_DEBTINC";
 dcl double "IMP_DELINQ";
 dcl double "IMP_DEROG";
 dcl char(7) "IMP_JOB";
 dcl double "IMP_MORTDUE";
 dcl double "IMP_NINQ";
 dcl char(7) "IMP_REASON";
 dcl double "IMP_YOJ";
 dcl char(12) I_BAD;
 dcl double EM_EVENTPROBABILITY;
 dcl char(12) EM_CLASSIFICATION;
 dcl double EM_PROBABILITY;
 dcl double "CLAGE";
dcl double "CLNO";
dcl double "DEBTINC";
dcl double "DELINQ";
dcl double "DEROG";
dcl char(7) "JOB";
dcl double "MORTDUE";
dcl double "NINQ";
dcl char(7) "REASON";
dcl double "YOJ";
method run();
dcl char(12) _STRFMT_;
 dcl double _DT_FI_5012850_[2];
 dcl char(12) _TLEVNAME_5012850_[2];
 _TLEVNAME_5012850_:=('           1', '           0');
set SASEP.in;
if MISSING("CLAGE") then do ;
"IMP_CLAGE" = 180.06572076;
end;
 else "IMP_CLAGE" = "CLAGE";
if MISSING("CLNO") then do ;
"IMP_CLNO" = 21.413983174;
end;
 else "IMP_CLNO" = "CLNO";
if MISSING("DEBTINC") then do ;
"IMP_DEBTINC" = 33.702060536;
end;
 else "IMP_DEBTINC" = "DEBTINC";
if MISSING("DELINQ") then do ;
"IMP_DELINQ" = 0.0;
end;
 else "IMP_DELINQ" = "DELINQ";
if MISSING("DEROG") then do ;
"IMP_DEROG" = 0.0;
end;
 else "IMP_DEROG" = "DEROG";
if MISSING("JOB") then do ;
"IMP_JOB" = 'Other';
end;
 else "IMP_JOB" = "JOB";
if MISSING("MORTDUE") then do ;
"IMP_MORTDUE" = 74833.24575;
end;
 else "IMP_MORTDUE" = "MORTDUE";
if MISSING("NINQ") then do ;
"IMP_NINQ" = 0.0;
end;
 else "IMP_NINQ" = "NINQ";
if MISSING("REASON") then do ;
"IMP_REASON" = 'DebtCon';
end;
 else "IMP_REASON" = "REASON";
if MISSING("YOJ") then do ;
"IMP_YOJ" = 9.0018179041;
end;
 else "IMP_YOJ" = "YOJ";
_STRFMT_ = ' ';
_NODE_ID_ = 0.0;
_NEW_ID_ = -1.0;
NEXTNODE_5012850: if _NODE_ID_ = 0.0 then do ;
_STRFMT_ = LEFT(TRIM(put(IMP_DELINQ, BEST12.)));
if _STRFMT_ in ('12', '15', '5', '4', '7', '6', '1', '3', '2', '8') then 
do ;
_NEW_ID_ = 1.0;
end;
 else if _STRFMT_ in ('0') then do ;
_NEW_ID_ = 2.0;
end;
 else do ;
_NEW_ID_ = 2.0;
end;
end;
 else if _NODE_ID_ = 1.0 then do ;
_NUMVAL_ = IMP_DEBTINC;
if MISSING(_NUMVAL_) then do ;
_NODE_ID_ = 3.0;
goto NEXTNODE_5012850;
end;
if (_NUMVAL_ >= 0.5244992154 & _NUMVAL_ < 33.7622401663464) then do ;
_NEW_ID_ = 3.0;
end;
 else if (_NUMVAL_ >= 33.7622401663464 & _NUMVAL_ < 203.31214869) then 
do ;
_NEW_ID_ = 4.0;
end;
 else if (_NUMVAL_ < 0.5244992154) then do ;
_NEW_ID_ = 3.0;
end;
 else if (_NUMVAL_ >= 203.31214869) then do ;
_NEW_ID_ = 4.0;
end;
 else do ;
_NEW_ID_ = 3.0;
end;
end;
 else if _NODE_ID_ = 2.0 then do ;
_NUMVAL_ = IMP_DEBTINC;
if MISSING(_NUMVAL_) then do ;
_NODE_ID_ = 6.0;
goto NEXTNODE_5012850;
end;
if (_NUMVAL_ >= 0.5244992154 & _NUMVAL_ < 33.6705273399606) then do ;
_NEW_ID_ = 5.0;
end;
 else if (_NUMVAL_ >= 33.6705273399606 & _NUMVAL_ < 203.31214869) then 
do ;
_NEW_ID_ = 6.0;
end;
 else if (_NUMVAL_ < 0.5244992154) then do ;
_NEW_ID_ = 5.0;
end;
 else if (_NUMVAL_ >= 203.31214869) then do ;
_NEW_ID_ = 6.0;
end;
 else do ;
_NEW_ID_ = 6.0;
end;
end;
 else if _NODE_ID_ = 3.0 then do ;
_NUMVAL_ = IMP_DEBTINC;
if MISSING(_NUMVAL_) then do ;
_NODE_ID_ = 8.0;
goto NEXTNODE_5012850;
end;
if (_NUMVAL_ >= 0.5244992154 & _NUMVAL_ < 33.4934797649212) then do ;
_NEW_ID_ = 7.0;
end;
 else if (_NUMVAL_ >= 33.4934797649212 & _NUMVAL_ < 203.31214869) then 
do ;
_NEW_ID_ = 8.0;
end;
 else if (_NUMVAL_ < 0.5244992154) then do ;
_NEW_ID_ = 7.0;
end;
 else if (_NUMVAL_ >= 203.31214869) then do ;
_NEW_ID_ = 8.0;
end;
 else do ;
_NEW_ID_ = 8.0;
end;
end;
 else if _NODE_ID_ = 4.0 then do ;
_NUMVAL_ = IMP_DEBTINC;
if MISSING(_NUMVAL_) then do ;
_NUMVAL_ = -1.7976931348623E308;
end;
if (_NUMVAL_ >= 0.5244992154 & _NUMVAL_ < 43.9169958330393) then do ;
_NEW_ID_ = 9.0;
end;
 else if (_NUMVAL_ >= 43.9169958330393 & _NUMVAL_ < 203.31214869) then 
do ;
_NEW_ID_ = 10.0;
end;
 else if (_NUMVAL_ < 0.5244992154) then do ;
_NEW_ID_ = 9.0;
end;
 else if (_NUMVAL_ >= 203.31214869) then do ;
_NEW_ID_ = 10.0;
end;
 else do ;
_NEW_ID_ = 9.0;
end;
end;
 else if _NODE_ID_ = 5.0 then do ;
_LEAF_ID_ = 5.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 1.0;
_DT_PRED_PROB_ = 0.95742667928098;
_DT_FI_5012850_[1.0] = 0.04257332071901;
_DT_FI_5012850_[2.0] = 0.95742667928098;
end;
 else if _NODE_ID_ = 6.0 then do ;
_NUMVAL_ = IMP_DEBTINC;
if MISSING(_NUMVAL_) then do ;
_NODE_ID_ = 12.0;
goto NEXTNODE_5012850;
end;
if (_NUMVAL_ >= 0.5244992154 & _NUMVAL_ < 33.7622401663464) then do ;
_NEW_ID_ = 11.0;
end;
 else if (_NUMVAL_ >= 33.7622401663464 & _NUMVAL_ < 203.31214869) then 
do ;
_NEW_ID_ = 12.0;
end;
 else if (_NUMVAL_ < 0.5244992154) then do ;
_NEW_ID_ = 11.0;
end;
 else if (_NUMVAL_ >= 203.31214869) then do ;
_NEW_ID_ = 12.0;
end;
 else do ;
_NEW_ID_ = 12.0;
end;
end;
 else if _NODE_ID_ = 7.0 then do ;
_NUMVAL_ = IMP_DEBTINC;
if MISSING(_NUMVAL_) then do ;
_NUMVAL_ = -1.7976931348623E308;
end;
if (_NUMVAL_ >= 0.5244992154 & _NUMVAL_ < 12.4081538974724) then do ;
_NEW_ID_ = 13.0;
end;
 else if (_NUMVAL_ >= 12.4081538974724 & _NUMVAL_ < 203.31214869) then 
do ;
_NEW_ID_ = 14.0;
end;
 else if (_NUMVAL_ < 0.5244992154) then do ;
_NEW_ID_ = 13.0;
end;
 else if (_NUMVAL_ >= 203.31214869) then do ;
_NEW_ID_ = 14.0;
end;
 else do ;
_NEW_ID_ = 14.0;
end;
end;
 else if _NODE_ID_ = 8.0 then do ;
_LEAF_ID_ = 8.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 0.0;
_DT_PRED_PROB_ = 0.81227436823104;
_DT_FI_5012850_[1.0] = 0.81227436823104;
_DT_FI_5012850_[2.0] = 0.18772563176895;
end;
 else if _NODE_ID_ = 9.0 then do ;
_STRFMT_ = LEFT(TRIM(put(IMP_DELINQ, BEST12.)));
if _STRFMT_ in ('4', '1', '3', '2') then do ;
_NEW_ID_ = 15.0;
end;
 else if _STRFMT_ in ('7', '6', '8') then do ;
_NEW_ID_ = 16.0;
end;
 else do ;
_NEW_ID_ = 15.0;
end;
end;
 else if _NODE_ID_ = 10.0 then do ;
_LEAF_ID_ = 10.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 0.0;
_DT_PRED_PROB_ = 1.0;
_DT_FI_5012850_[1.0] = 1.0;
_DT_FI_5012850_[2.0] = 0.0;
end;
 else if _NODE_ID_ = 11.0 then do ;
_NUMVAL_ = IMP_CLAGE;
if MISSING(_NUMVAL_) then do ;
_NODE_ID_ = 17.0;
goto NEXTNODE_5012850;
end;
if (_NUMVAL_ >= 0.0 & _NUMVAL_ < 186.996275468425) then do ;
_NEW_ID_ = 17.0;
end;
 else if (_NUMVAL_ >= 186.996275468425 & _NUMVAL_ < 1168.2335609) then 
do ;
_NEW_ID_ = 18.0;
end;
 else if (_NUMVAL_ < 0.0) then do ;
_NEW_ID_ = 17.0;
end;
 else if (_NUMVAL_ >= 1168.2335609) then do ;
_NEW_ID_ = 18.0;
end;
 else do ;
_NEW_ID_ = 17.0;
end;
end;
 else if _NODE_ID_ = 12.0 then do ;
_NUMVAL_ = IMP_DEBTINC;
if MISSING(_NUMVAL_) then do ;
_NODE_ID_ = 19.0;
goto NEXTNODE_5012850;
end;
if (_NUMVAL_ >= 0.5244992154 & _NUMVAL_ < 43.9169958330393) then do ;
_NEW_ID_ = 19.0;
end;
 else if (_NUMVAL_ >= 43.9169958330393 & _NUMVAL_ < 203.31214869) then 
do ;
_NEW_ID_ = 20.0;
end;
 else if (_NUMVAL_ < 0.5244992154) then do ;
_NEW_ID_ = 19.0;
end;
 else if (_NUMVAL_ >= 203.31214869) then do ;
_NEW_ID_ = 20.0;
end;
 else do ;
_NEW_ID_ = 19.0;
end;
end;
 else if _NODE_ID_ = 13.0 then do ;
_LEAF_ID_ = 13.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 0.0;
_DT_PRED_PROB_ = 1.0;
_DT_FI_5012850_[1.0] = 1.0;
_DT_FI_5012850_[2.0] = 0.0;
end;
 else if _NODE_ID_ = 14.0 then do ;
_LEAF_ID_ = 14.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 1.0;
_DT_PRED_PROB_ = 0.86046511627906;
_DT_FI_5012850_[1.0] = 0.13953488372093;
_DT_FI_5012850_[2.0] = 0.86046511627906;
end;
 else if _NODE_ID_ = 15.0 then do ;
_LEAF_ID_ = 15.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 1.0;
_DT_PRED_PROB_ = 0.83464566929133;
_DT_FI_5012850_[1.0] = 0.16535433070866;
_DT_FI_5012850_[2.0] = 0.83464566929133;
end;
 else if _NODE_ID_ = 16.0 then do ;
_LEAF_ID_ = 16.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 0.0;
_DT_PRED_PROB_ = 1.0;
_DT_FI_5012850_[1.0] = 1.0;
_DT_FI_5012850_[2.0] = 0.0;
end;
 else if _NODE_ID_ = 17.0 then do ;
_LEAF_ID_ = 17.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 0.0;
_DT_PRED_PROB_ = 0.57758620689655;
_DT_FI_5012850_[1.0] = 0.57758620689655;
_DT_FI_5012850_[2.0] = 0.42241379310344;
end;
 else if _NODE_ID_ = 18.0 then do ;
_LEAF_ID_ = 18.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 1.0;
_DT_PRED_PROB_ = 0.68840579710144;
_DT_FI_5012850_[1.0] = 0.31159420289855;
_DT_FI_5012850_[2.0] = 0.68840579710144;
end;
 else if _NODE_ID_ = 19.0 then do ;
_LEAF_ID_ = 19.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 1.0;
_DT_PRED_PROB_ = 0.94206349206349;
_DT_FI_5012850_[1.0] = 0.0579365079365;
_DT_FI_5012850_[2.0] = 0.94206349206349;
end;
 else if _NODE_ID_ = 20.0 then do ;
_LEAF_ID_ = 20.0;
_NEW_ID_ = -1.0;
_DT_PRED_LEV_ = 0.0;
_DT_PRED_PROB_ = 0.75;
_DT_FI_5012850_[1.0] = 0.75;
_DT_FI_5012850_[2.0] = 0.25;
end;
if _NEW_ID_ >= 0.0 then do ;
_NODE_ID_ = _NEW_ID_;
goto NEXTNODE_5012850;
end;
I_BAD = _TLEVNAME_5012850_[_DT_PRED_LEV_ + 1.0];
_I_ = 1.0;
_DT_PREDP_ = _DT_FI_5012850_[_I_];
P_BAD1 = _DT_PREDP_;
_I_ + 1.0;
_DT_PREDP_ = _DT_FI_5012850_[_I_];
P_BAD0 = _DT_PREDP_;
_I_ + 1.0;
if "P_BAD0" = . then "P_BAD0" = 0.8005033557;
if "P_BAD1" = . then "P_BAD1" = 0.1994966443;
if MISSING("I_BAD") then do ;
_P_ = 0.0;
if "P_BAD1" > _P_ then do ;
_P_ = "P_BAD1";
"I_BAD" = '           1';
end;
if "P_BAD0" > _P_ then do ;
_P_ = "P_BAD0";
"I_BAD" = '           0';
end;
end;
EM_EVENTPROBABILITY = "P_BAD1";
EM_CLASSIFICATION = "I_BAD";
EM_PROBABILITY = MAX("P_BAD1", "P_BAD0");
_return: ;
end;
 enddata;
