1    /* create ds2 package */
2    /* use fileURI to retrieve score.xml */
3    filename orixml filesrvc '/files/files/1c041941-764c-4857-8912-f7bbcf7fb3b8' lrecl=32767 encoding='utf-8';
4    filename scrxml temp lrecl=32767 encoding='utf-8';
5    data _null_;
6    rc = fcopy('orixml','scrxml');
7    if rc=0 then
8    putlog 'NOTE: Copying file from File Service.' ;
9    else do;
10   msg=sysmsg();
11   putlog msg;
12   end;
13   run;

NOTE: Copying file from File Service.
NOTE: DATA statement used (Total process time):
      real time           0.22 seconds
      cpu time            0.04 seconds
      

14   proc dstrans dsi_to_ds2 out=ds2pkg xml=scrxml pkgargs nocomp;
15   submit;
16   /*----------------------------------------------------------------------------------*/
17   /* Product:            Visual Data Mining and Machine Learning                      */
18   /* Release Version:    V2020.1.4                                                    */
2                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

19   /* Component Version:  V2020.1.4                                                    */
20   /* CAS Version:        V.04.00M0P03042021                                           */
21   /* SAS Version:        V.04.00M0P030421                                             */
22   /* Site Number:        70180938                                                     */
23   /* Host:               sas-cas-server-default-client                                */
24   /* Encoding:           utf-8                                                        */
25   /* Java Encoding:      UTF8                                                         */
26   /* Locale:             en_US                                                        */
27   /* Project GUID:       1bc33459-9156-4dc9-8add-cdb099fede20                         */
28   /* Node GUID:          a2b068db-d36e-48ad-93ac-b0615e839b32                         */
29   /* Node Id:            9MQJE3ALZYLG7MV8HKBIVUR02                                    */
30   /* Algorithm:          Decision Tree                                                */
31   /* Generated by:       sasadm                                                       */
32   /* Date:               08MAR2021:21:55:23                                           */
33   /*----------------------------------------------------------------------------------*/
34   *------------------------------------------------------------*;
35   *Nodeid: _3RVR68WPXKF7Z5LEP6GOKERIG;
36   *------------------------------------------------------------*;
37   
38   * Imputation Method = MEAN ;
39   Label 'IMP_CLAGE'n = 'Imputed CLAGE';
40   Length 'IMP_CLAGE'n 8;
41   if missing('CLAGE'n) then do;
42      'IMP_CLAGE'n = 180.06572076;
43   end;
44   else 'IMP_CLAGE'n = 'CLAGE'n;
45   
46   * Imputation Method = MEAN ;
47   Label 'IMP_CLNO'n = 'Imputed CLNO';
48   Length 'IMP_CLNO'n 8;
49   if missing('CLNO'n) then do;
50      'IMP_CLNO'n = 21.413983174;
51   end;
52   else 'IMP_CLNO'n = 'CLNO'n;
53   
54   * Imputation Method = MEAN ;
55   Label 'IMP_DEBTINC'n = 'Imputed DEBTINC';
56   Length 'IMP_DEBTINC'n 8;
57   if missing('DEBTINC'n) then do;
58      'IMP_DEBTINC'n = 33.702060536;
59   end;
60   else 'IMP_DEBTINC'n = 'DEBTINC'n;
61   
62   * Imputation Method = COUNT ;
63   Label 'IMP_DELINQ'n = 'Imputed DELINQ';
64   Length 'IMP_DELINQ'n 8;
65   if missing('DELINQ'n) then do;
66      'IMP_DELINQ'n = 0;
67   end;
68   else 'IMP_DELINQ'n = 'DELINQ'n;
69   
70   * Imputation Method = COUNT ;
71   Label 'IMP_DEROG'n = 'Imputed DEROG';
72   Length 'IMP_DEROG'n 8;
73   if missing('DEROG'n) then do;
74      'IMP_DEROG'n = 0;
75   end;
76   else 'IMP_DEROG'n = 'DEROG'n;
3                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

77   
78   * Imputation Method = COUNT ;
79   Label 'IMP_JOB'n = 'Imputed JOB';
80   Length 'IMP_JOB'n $7;
81   if missing('JOB'n) then do;
82      'IMP_JOB'n = 'Other';
83   end;
84   else 'IMP_JOB'n = 'JOB'n;
85   
86   * Imputation Method = MEAN ;
87   Label 'IMP_MORTDUE'n = 'Imputed MORTDUE';
88   Length 'IMP_MORTDUE'n 8;
89   if missing('MORTDUE'n) then do;
90      'IMP_MORTDUE'n = 74833.24575;
91   end;
92   else 'IMP_MORTDUE'n = 'MORTDUE'n;
93   
94   * Imputation Method = COUNT ;
95   Label 'IMP_NINQ'n = 'Imputed NINQ';
96   Length 'IMP_NINQ'n 8;
97   if missing('NINQ'n) then do;
98      'IMP_NINQ'n = 0;
99   end;
100  else 'IMP_NINQ'n = 'NINQ'n;
101  
102  * Imputation Method = COUNT ;
103  Label 'IMP_REASON'n = 'Imputed REASON';
104  Length 'IMP_REASON'n $7;
105  if missing('REASON'n) then do;
106     'IMP_REASON'n = 'DebtCon';
107  end;
108  else 'IMP_REASON'n = 'REASON'n;
109  
110  * Imputation Method = MEAN ;
111  Label 'IMP_YOJ'n = 'Imputed YOJ';
112  Length 'IMP_YOJ'n 8;
113  if missing('YOJ'n) then do;
114     'IMP_YOJ'n = 9.0018179041;
115  end;
116  else 'IMP_YOJ'n = 'YOJ'n;
117  
118  *------------------------------------------------------------*;
119  *Nodeid: _27RAQUA700WBD49DFXMUCN8WL;
120  *------------------------------------------------------------*;
121  *------------------------------------------------------------*;
122  *Nodeid: _EIF8MWZM62YMJGR9HTF6175MI;
123  *------------------------------------------------------------*;
124  *------------------------------------------------------------*;
125  *Nodeid: _9MQJE3ALZYLG7MV8HKBIVUR02;
126  *------------------------------------------------------------*;
127     length _strfmt_ $12; drop _strfmt_;
128     _strfmt_ = ' ';
129  
130     array _tlevname_5012850_{2} $12 _temporary_ ( '           1'
131     '           0');
132  
133     array _dt_fi_5012850_{2} _temporary_;
134  
4                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

135     _node_id_ =  0;
136     _new_id_  = -1;
137     nextnode_5012850:
138     if _node_id_ eq 0 then do;
139           _strfmt_ = left(trim(put(IMP_DELINQ,BEST12.)));
140           if _strfmt_ in ('12',
141           '15',
142           '5',
143           '4',
144           '7',
145           '6',
146           '1',
147           '3',
148           '2',
149           '8') then do;
150  
151           _new_id_ = 1;
152           end;
153           else if _strfmt_ in ('0') then do;
154  
155           _new_id_ = 2;
156           end;
157           else do;
158           _new_id_ = 2;
159           end;
160     end;
161     else if _node_id_ eq 1 then do;
162           _numval_ = IMP_DEBTINC;
163           if missing(_numval_) then do;
164              _node_id_ = 3;
165              goto nextnode_5012850;
166           end;
167           if (_numval_ ge 0.5244992154 and _numval_ lt 33.7622401663464) then do;
168  
169              _new_id_ = 3;
170           end;
171           else if (_numval_ ge 33.7622401663464 and _numval_ lt 203.31214869) then do;
172  
173              _new_id_ = 4;
174           end;
175           else if (_numval_ lt 0.5244992154) then do;
176              _new_id_ = 3;
177           end;
178           else if (_numval_ ge 203.31214869) then do;
179              _new_id_ = 4;
180           end;
181           else do;
182           _new_id_ = 3;
183           end;
184     end;
185     else if _node_id_ eq 2 then do;
186           _numval_ = IMP_DEBTINC;
187           if missing(_numval_) then do;
188              _node_id_ = 6;
189              goto nextnode_5012850;
190           end;
191           if (_numval_ ge 0.5244992154 and _numval_ lt 33.6705273399606) then do;
192  
5                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

193              _new_id_ = 5;
194           end;
195           else if (_numval_ ge 33.6705273399606 and _numval_ lt 203.31214869) then do;
196  
197              _new_id_ = 6;
198           end;
199           else if (_numval_ lt 0.5244992154) then do;
200              _new_id_ = 5;
201           end;
202           else if (_numval_ ge 203.31214869) then do;
203              _new_id_ = 6;
204           end;
205           else do;
206           _new_id_ = 6;
207           end;
208     end;
209     else if _node_id_ eq 3 then do;
210           _numval_ = IMP_DEBTINC;
211           if missing(_numval_) then do;
212              _node_id_ = 8;
213              goto nextnode_5012850;
214           end;
215           if (_numval_ ge 0.5244992154 and _numval_ lt 33.4934797649212) then do;
216  
217              _new_id_ = 7;
218           end;
219           else if (_numval_ ge 33.4934797649212 and _numval_ lt 203.31214869) then do;
220  
221              _new_id_ = 8;
222           end;
223           else if (_numval_ lt 0.5244992154) then do;
224              _new_id_ = 7;
225           end;
226           else if (_numval_ ge 203.31214869) then do;
227              _new_id_ = 8;
228           end;
229           else do;
230           _new_id_ = 8;
231           end;
232     end;
233     else if _node_id_ eq 4 then do;
234           _numval_ = IMP_DEBTINC;
235           if missing(_numval_) then do;
236              _numval_ = -1.7976931348623E308;
237           end;
238           if (_numval_ ge 0.5244992154 and _numval_ lt 43.9169958330393) then do;
239  
240              _new_id_ = 9;
241           end;
242           else if (_numval_ ge 43.9169958330393 and _numval_ lt 203.31214869) then do;
243  
244              _new_id_ = 10;
245           end;
246           else if (_numval_ lt 0.5244992154) then do;
247              _new_id_ = 9;
248           end;
249           else if (_numval_ ge 203.31214869) then do;
250              _new_id_ = 10;
6                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

251           end;
252           else do;
253           _new_id_ = 9;
254           end;
255     end;
256     else if _node_id_ eq 5 then do;
257           _leaf_id_ = 5;
258           _new_id_ = -1;
259           _dt_pred_lev_ = 1;
260           _dt_pred_prob_ =     0.95742667928098;
261           _dt_fi_5012850_{1} =     0.04257332071901;
262           _dt_fi_5012850_{2} =     0.95742667928098;
263     end;
264     else if _node_id_ eq 6 then do;
265           _numval_ = IMP_DEBTINC;
266           if missing(_numval_) then do;
267              _node_id_ = 12;
268              goto nextnode_5012850;
269           end;
270           if (_numval_ ge 0.5244992154 and _numval_ lt 33.7622401663464) then do;
271  
272              _new_id_ = 11;
273           end;
274           else if (_numval_ ge 33.7622401663464 and _numval_ lt 203.31214869) then do;
275  
276              _new_id_ = 12;
277           end;
278           else if (_numval_ lt 0.5244992154) then do;
279              _new_id_ = 11;
280           end;
281           else if (_numval_ ge 203.31214869) then do;
282              _new_id_ = 12;
283           end;
284           else do;
285           _new_id_ = 12;
286           end;
287     end;
288     else if _node_id_ eq 7 then do;
289           _numval_ = IMP_DEBTINC;
290           if missing(_numval_) then do;
291              _numval_ = -1.7976931348623E308;
292           end;
293           if (_numval_ ge 0.5244992154 and _numval_ lt 12.4081538974724) then do;
294  
295              _new_id_ = 13;
296           end;
297           else if (_numval_ ge 12.4081538974724 and _numval_ lt 203.31214869) then do;
298  
299              _new_id_ = 14;
300           end;
301           else if (_numval_ lt 0.5244992154) then do;
302              _new_id_ = 13;
303           end;
304           else if (_numval_ ge 203.31214869) then do;
305              _new_id_ = 14;
306           end;
307           else do;
308           _new_id_ = 14;
7                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

309           end;
310     end;
311     else if _node_id_ eq 8 then do;
312           _leaf_id_ = 8;
313           _new_id_ = -1;
314           _dt_pred_lev_ = 0;
315           _dt_pred_prob_ =     0.81227436823104;
316           _dt_fi_5012850_{1} =     0.81227436823104;
317           _dt_fi_5012850_{2} =     0.18772563176895;
318     end;
319     else if _node_id_ eq 9 then do;
320           _strfmt_ = left(trim(put(IMP_DELINQ,BEST12.)));
321           if _strfmt_ in ('4',
322           '1',
323           '3',
324           '2') then do;
325  
326           _new_id_ = 15;
327           end;
328           else if _strfmt_ in ('7',
329           '6',
330           '8') then do;
331  
332           _new_id_ = 16;
333           end;
334           else do;
335           _new_id_ = 15;
336           end;
337     end;
338     else if _node_id_ eq 10 then do;
339           _leaf_id_ = 10;
340           _new_id_ = -1;
341           _dt_pred_lev_ = 0;
342           _dt_pred_prob_ =                    1;
343           _dt_fi_5012850_{1} =                    1;
344           _dt_fi_5012850_{2} =                    0;
345     end;
346     else if _node_id_ eq 11 then do;
347           _numval_ = IMP_CLAGE;
348           if missing(_numval_) then do;
349              _node_id_ = 17;
350              goto nextnode_5012850;
351           end;
352           if (_numval_ ge 0 and _numval_ lt 186.996275468425) then do;
353  
354              _new_id_ = 17;
355           end;
356           else if (_numval_ ge 186.996275468425 and _numval_ lt 1168.2335609) then do;
357  
358              _new_id_ = 18;
359           end;
360           else if (_numval_ lt 0) then do;
361              _new_id_ = 17;
362           end;
363           else if (_numval_ ge 1168.2335609) then do;
364              _new_id_ = 18;
365           end;
366           else do;
8                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

367           _new_id_ = 17;
368           end;
369     end;
370     else if _node_id_ eq 12 then do;
371           _numval_ = IMP_DEBTINC;
372           if missing(_numval_) then do;
373              _node_id_ = 19;
374              goto nextnode_5012850;
375           end;
376           if (_numval_ ge 0.5244992154 and _numval_ lt 43.9169958330393) then do;
377  
378              _new_id_ = 19;
379           end;
380           else if (_numval_ ge 43.9169958330393 and _numval_ lt 203.31214869) then do;
381  
382              _new_id_ = 20;
383           end;
384           else if (_numval_ lt 0.5244992154) then do;
385              _new_id_ = 19;
386           end;
387           else if (_numval_ ge 203.31214869) then do;
388              _new_id_ = 20;
389           end;
390           else do;
391           _new_id_ = 19;
392           end;
393     end;
394     else if _node_id_ eq 13 then do;
395           _leaf_id_ = 13;
396           _new_id_ = -1;
397           _dt_pred_lev_ = 0;
398           _dt_pred_prob_ =                    1;
399           _dt_fi_5012850_{1} =                    1;
400           _dt_fi_5012850_{2} =                    0;
401     end;
402     else if _node_id_ eq 14 then do;
403           _leaf_id_ = 14;
404           _new_id_ = -1;
405           _dt_pred_lev_ = 1;
406           _dt_pred_prob_ =     0.86046511627906;
407           _dt_fi_5012850_{1} =     0.13953488372093;
408           _dt_fi_5012850_{2} =     0.86046511627906;
409     end;
410     else if _node_id_ eq 15 then do;
411           _leaf_id_ = 15;
412           _new_id_ = -1;
413           _dt_pred_lev_ = 1;
414           _dt_pred_prob_ =     0.83464566929133;
415           _dt_fi_5012850_{1} =     0.16535433070866;
416           _dt_fi_5012850_{2} =     0.83464566929133;
417     end;
418     else if _node_id_ eq 16 then do;
419           _leaf_id_ = 16;
420           _new_id_ = -1;
421           _dt_pred_lev_ = 0;
422           _dt_pred_prob_ =                    1;
423           _dt_fi_5012850_{1} =                    1;
424           _dt_fi_5012850_{2} =                    0;
9                                                          The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

425     end;
426     else if _node_id_ eq 17 then do;
427           _leaf_id_ = 17;
428           _new_id_ = -1;
429           _dt_pred_lev_ = 0;
430           _dt_pred_prob_ =     0.57758620689655;
431           _dt_fi_5012850_{1} =     0.57758620689655;
432           _dt_fi_5012850_{2} =     0.42241379310344;
433     end;
434     else if _node_id_ eq 18 then do;
435           _leaf_id_ = 18;
436           _new_id_ = -1;
437           _dt_pred_lev_ = 1;
438           _dt_pred_prob_ =     0.68840579710144;
439           _dt_fi_5012850_{1} =     0.31159420289855;
440           _dt_fi_5012850_{2} =     0.68840579710144;
441     end;
442     else if _node_id_ eq 19 then do;
443           _leaf_id_ = 19;
444           _new_id_ = -1;
445           _dt_pred_lev_ = 1;
446           _dt_pred_prob_ =     0.94206349206349;
447           _dt_fi_5012850_{1} =      0.0579365079365;
448           _dt_fi_5012850_{2} =     0.94206349206349;
449     end;
450     else if _node_id_ eq 20 then do;
451           _leaf_id_ = 20;
452           _new_id_ = -1;
453           _dt_pred_lev_ = 0;
454           _dt_pred_prob_ =                 0.75;
455           _dt_fi_5012850_{1} =                 0.75;
456           _dt_fi_5012850_{2} =                 0.25;
457     end;
458     if _new_id_ >= 0 then do;
459         _node_id_ = _new_id_;
460        goto nextnode_5012850;
461     end;
462  
463     length I_BAD $12;
464     I_BAD = _tlevname_5012850_{_dt_pred_lev_+1};
465     label I_BAD = 'Into: BAD';
466     _i_ = 1;
467     _dt_predp_ = _dt_fi_5012850_{_i_};
468     P_BAD1 = _dt_predp_;
469     label P_BAD1 = 'Predicted: BAD=1';
470     _i_+1;
471     _dt_predp_ = _dt_fi_5012850_{_i_};
472     P_BAD0 = _dt_predp_;
473     label P_BAD0 = 'Predicted: BAD=0';
474     _i_+1;
475     drop _dt_predp_;
476     drop _i_;
477     drop _dt_pred_lev_;
478     drop _dt_pred_prob_;
479     drop _numval_;
480     drop _node_id_;
481     drop _new_id_;
482  
10                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

483  
484  
485     *------------------------------------------------------------*;
486     * Initializing missing posterior and classification variables ;
487     *------------------------------------------------------------*;
488     label "P_BAD0"n ='Predicted: BAD=0';
489     if "P_BAD0"n = . then "P_BAD0"n =0.8005033557;
490     label "P_BAD1"n ='Predicted: BAD=1';
491     if "P_BAD1"n = . then "P_BAD1"n =0.1994966443;
492     label "I_BAD"n ='Into: BAD';
493     if missing('I_BAD'n) then do;
494        drop _P_;
495        _P_= 0.0 ;
496        if 'P_BAD1'n > _P_ then do;
497        _P_ = 'P_BAD1'n;
498        'I_BAD'n = '           1';
499        end;
500        if 'P_BAD0'n > _P_ then do;
501        _P_ = 'P_BAD0'n;
502        'I_BAD'n = '           0';
503        end;
504     end;
505  *------------------------------------------------------------*;
506  * Generating fixed output names;
507  *------------------------------------------------------------*;
508  Length EM_EVENTPROBABILITY 8;
509  LABEL EM_EVENTPROBABILITY = "Probability for BAD =1";
510  EM_EVENTPROBABILITY ='P_BAD1'n;
511  LENGTH EM_CLASSIFICATION $12;
512  LABEL EM_CLASSIFICATION= "Predicted for BAD";
513  EM_CLASSIFICATION ='I_BAD'n;
514  Length EM_PROBABILITY 8;
515  LABEL EM_PROBABILITY = "Probability of Classification";
516  EM_PROBABILITY = max(
517  'P_BAD1'n,
518  'P_BAD0'n);
519  
520  endsubmit;
521  run;

NOTE: PROCEDURE DSTRANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
      

522  proc dstrans dsi_to_ds2 out=ds2cd xml=scrxml ep nocomp;
523  submit;
524  /*----------------------------------------------------------------------------------*/
525  /* Product:            Visual Data Mining and Machine Learning                      */
526  /* Release Version:    V2020.1.4                                                    */
527  /* Component Version:  V2020.1.4                                                    */
528  /* CAS Version:        V.04.00M0P03042021                                           */
529  /* SAS Version:        V.04.00M0P030421                                             */
530  /* Site Number:        70180938                                                     */
531  /* Host:               sas-cas-server-default-client                                */
532  /* Encoding:           utf-8                                                        */
533  /* Java Encoding:      UTF8                                                         */
534  /* Locale:             en_US                                                        */
11                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

535  /* Project GUID:       1bc33459-9156-4dc9-8add-cdb099fede20                         */
536  /* Node GUID:          a2b068db-d36e-48ad-93ac-b0615e839b32                         */
537  /* Node Id:            9MQJE3ALZYLG7MV8HKBIVUR02                                    */
538  /* Algorithm:          Decision Tree                                                */
539  /* Generated by:       sasadm                                                       */
540  /* Date:               08MAR2021:21:55:23                                           */
541  /*----------------------------------------------------------------------------------*/
542  *------------------------------------------------------------*;
543  *Nodeid: _3RVR68WPXKF7Z5LEP6GOKERIG;
544  *------------------------------------------------------------*;
545  
546  * Imputation Method = MEAN ;
547  Label 'IMP_CLAGE'n = 'Imputed CLAGE';
548  Length 'IMP_CLAGE'n 8;
549  if missing('CLAGE'n) then do;
550     'IMP_CLAGE'n = 180.06572076;
551  end;
552  else 'IMP_CLAGE'n = 'CLAGE'n;
553  
554  * Imputation Method = MEAN ;
555  Label 'IMP_CLNO'n = 'Imputed CLNO';
556  Length 'IMP_CLNO'n 8;
557  if missing('CLNO'n) then do;
558     'IMP_CLNO'n = 21.413983174;
559  end;
560  else 'IMP_CLNO'n = 'CLNO'n;
561  
562  * Imputation Method = MEAN ;
563  Label 'IMP_DEBTINC'n = 'Imputed DEBTINC';
564  Length 'IMP_DEBTINC'n 8;
565  if missing('DEBTINC'n) then do;
566     'IMP_DEBTINC'n = 33.702060536;
567  end;
568  else 'IMP_DEBTINC'n = 'DEBTINC'n;
569  
570  * Imputation Method = COUNT ;
571  Label 'IMP_DELINQ'n = 'Imputed DELINQ';
572  Length 'IMP_DELINQ'n 8;
573  if missing('DELINQ'n) then do;
574     'IMP_DELINQ'n = 0;
575  end;
576  else 'IMP_DELINQ'n = 'DELINQ'n;
577  
578  * Imputation Method = COUNT ;
579  Label 'IMP_DEROG'n = 'Imputed DEROG';
580  Length 'IMP_DEROG'n 8;
581  if missing('DEROG'n) then do;
582     'IMP_DEROG'n = 0;
583  end;
584  else 'IMP_DEROG'n = 'DEROG'n;
585  
586  * Imputation Method = COUNT ;
587  Label 'IMP_JOB'n = 'Imputed JOB';
588  Length 'IMP_JOB'n $7;
589  if missing('JOB'n) then do;
590     'IMP_JOB'n = 'Other';
591  end;
592  else 'IMP_JOB'n = 'JOB'n;
12                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

593  
594  * Imputation Method = MEAN ;
595  Label 'IMP_MORTDUE'n = 'Imputed MORTDUE';
596  Length 'IMP_MORTDUE'n 8;
597  if missing('MORTDUE'n) then do;
598     'IMP_MORTDUE'n = 74833.24575;
599  end;
600  else 'IMP_MORTDUE'n = 'MORTDUE'n;
601  
602  * Imputation Method = COUNT ;
603  Label 'IMP_NINQ'n = 'Imputed NINQ';
604  Length 'IMP_NINQ'n 8;
605  if missing('NINQ'n) then do;
606     'IMP_NINQ'n = 0;
607  end;
608  else 'IMP_NINQ'n = 'NINQ'n;
609  
610  * Imputation Method = COUNT ;
611  Label 'IMP_REASON'n = 'Imputed REASON';
612  Length 'IMP_REASON'n $7;
613  if missing('REASON'n) then do;
614     'IMP_REASON'n = 'DebtCon';
615  end;
616  else 'IMP_REASON'n = 'REASON'n;
617  
618  * Imputation Method = MEAN ;
619  Label 'IMP_YOJ'n = 'Imputed YOJ';
620  Length 'IMP_YOJ'n 8;
621  if missing('YOJ'n) then do;
622     'IMP_YOJ'n = 9.0018179041;
623  end;
624  else 'IMP_YOJ'n = 'YOJ'n;
625  
626  *------------------------------------------------------------*;
627  *Nodeid: _27RAQUA700WBD49DFXMUCN8WL;
628  *------------------------------------------------------------*;
629  *------------------------------------------------------------*;
630  *Nodeid: _EIF8MWZM62YMJGR9HTF6175MI;
631  *------------------------------------------------------------*;
632  *------------------------------------------------------------*;
633  *Nodeid: _9MQJE3ALZYLG7MV8HKBIVUR02;
634  *------------------------------------------------------------*;
635     length _strfmt_ $12; drop _strfmt_;
636     _strfmt_ = ' ';
637  
638     array _tlevname_5012850_{2} $12 _temporary_ ( '           1'
639     '           0');
640  
641     array _dt_fi_5012850_{2} _temporary_;
642  
643     _node_id_ =  0;
644     _new_id_  = -1;
645     nextnode_5012850:
646     if _node_id_ eq 0 then do;
647           _strfmt_ = left(trim(put(IMP_DELINQ,BEST12.)));
648           if _strfmt_ in ('12',
649           '15',
650           '5',
13                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

651           '4',
652           '7',
653           '6',
654           '1',
655           '3',
656           '2',
657           '8') then do;
658  
659           _new_id_ = 1;
660           end;
661           else if _strfmt_ in ('0') then do;
662  
663           _new_id_ = 2;
664           end;
665           else do;
666           _new_id_ = 2;
667           end;
668     end;
669     else if _node_id_ eq 1 then do;
670           _numval_ = IMP_DEBTINC;
671           if missing(_numval_) then do;
672              _node_id_ = 3;
673              goto nextnode_5012850;
674           end;
675           if (_numval_ ge 0.5244992154 and _numval_ lt 33.7622401663464) then do;
676  
677              _new_id_ = 3;
678           end;
679           else if (_numval_ ge 33.7622401663464 and _numval_ lt 203.31214869) then do;
680  
681              _new_id_ = 4;
682           end;
683           else if (_numval_ lt 0.5244992154) then do;
684              _new_id_ = 3;
685           end;
686           else if (_numval_ ge 203.31214869) then do;
687              _new_id_ = 4;
688           end;
689           else do;
690           _new_id_ = 3;
691           end;
692     end;
693     else if _node_id_ eq 2 then do;
694           _numval_ = IMP_DEBTINC;
695           if missing(_numval_) then do;
696              _node_id_ = 6;
697              goto nextnode_5012850;
698           end;
699           if (_numval_ ge 0.5244992154 and _numval_ lt 33.6705273399606) then do;
700  
701              _new_id_ = 5;
702           end;
703           else if (_numval_ ge 33.6705273399606 and _numval_ lt 203.31214869) then do;
704  
705              _new_id_ = 6;
706           end;
707           else if (_numval_ lt 0.5244992154) then do;
708              _new_id_ = 5;
14                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

709           end;
710           else if (_numval_ ge 203.31214869) then do;
711              _new_id_ = 6;
712           end;
713           else do;
714           _new_id_ = 6;
715           end;
716     end;
717     else if _node_id_ eq 3 then do;
718           _numval_ = IMP_DEBTINC;
719           if missing(_numval_) then do;
720              _node_id_ = 8;
721              goto nextnode_5012850;
722           end;
723           if (_numval_ ge 0.5244992154 and _numval_ lt 33.4934797649212) then do;
724  
725              _new_id_ = 7;
726           end;
727           else if (_numval_ ge 33.4934797649212 and _numval_ lt 203.31214869) then do;
728  
729              _new_id_ = 8;
730           end;
731           else if (_numval_ lt 0.5244992154) then do;
732              _new_id_ = 7;
733           end;
734           else if (_numval_ ge 203.31214869) then do;
735              _new_id_ = 8;
736           end;
737           else do;
738           _new_id_ = 8;
739           end;
740     end;
741     else if _node_id_ eq 4 then do;
742           _numval_ = IMP_DEBTINC;
743           if missing(_numval_) then do;
744              _numval_ = -1.7976931348623E308;
745           end;
746           if (_numval_ ge 0.5244992154 and _numval_ lt 43.9169958330393) then do;
747  
748              _new_id_ = 9;
749           end;
750           else if (_numval_ ge 43.9169958330393 and _numval_ lt 203.31214869) then do;
751  
752              _new_id_ = 10;
753           end;
754           else if (_numval_ lt 0.5244992154) then do;
755              _new_id_ = 9;
756           end;
757           else if (_numval_ ge 203.31214869) then do;
758              _new_id_ = 10;
759           end;
760           else do;
761           _new_id_ = 9;
762           end;
763     end;
764     else if _node_id_ eq 5 then do;
765           _leaf_id_ = 5;
766           _new_id_ = -1;
15                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

767           _dt_pred_lev_ = 1;
768           _dt_pred_prob_ =     0.95742667928098;
769           _dt_fi_5012850_{1} =     0.04257332071901;
770           _dt_fi_5012850_{2} =     0.95742667928098;
771     end;
772     else if _node_id_ eq 6 then do;
773           _numval_ = IMP_DEBTINC;
774           if missing(_numval_) then do;
775              _node_id_ = 12;
776              goto nextnode_5012850;
777           end;
778           if (_numval_ ge 0.5244992154 and _numval_ lt 33.7622401663464) then do;
779  
780              _new_id_ = 11;
781           end;
782           else if (_numval_ ge 33.7622401663464 and _numval_ lt 203.31214869) then do;
783  
784              _new_id_ = 12;
785           end;
786           else if (_numval_ lt 0.5244992154) then do;
787              _new_id_ = 11;
788           end;
789           else if (_numval_ ge 203.31214869) then do;
790              _new_id_ = 12;
791           end;
792           else do;
793           _new_id_ = 12;
794           end;
795     end;
796     else if _node_id_ eq 7 then do;
797           _numval_ = IMP_DEBTINC;
798           if missing(_numval_) then do;
799              _numval_ = -1.7976931348623E308;
800           end;
801           if (_numval_ ge 0.5244992154 and _numval_ lt 12.4081538974724) then do;
802  
803              _new_id_ = 13;
804           end;
805           else if (_numval_ ge 12.4081538974724 and _numval_ lt 203.31214869) then do;
806  
807              _new_id_ = 14;
808           end;
809           else if (_numval_ lt 0.5244992154) then do;
810              _new_id_ = 13;
811           end;
812           else if (_numval_ ge 203.31214869) then do;
813              _new_id_ = 14;
814           end;
815           else do;
816           _new_id_ = 14;
817           end;
818     end;
819     else if _node_id_ eq 8 then do;
820           _leaf_id_ = 8;
821           _new_id_ = -1;
822           _dt_pred_lev_ = 0;
823           _dt_pred_prob_ =     0.81227436823104;
824           _dt_fi_5012850_{1} =     0.81227436823104;
16                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

825           _dt_fi_5012850_{2} =     0.18772563176895;
826     end;
827     else if _node_id_ eq 9 then do;
828           _strfmt_ = left(trim(put(IMP_DELINQ,BEST12.)));
829           if _strfmt_ in ('4',
830           '1',
831           '3',
832           '2') then do;
833  
834           _new_id_ = 15;
835           end;
836           else if _strfmt_ in ('7',
837           '6',
838           '8') then do;
839  
840           _new_id_ = 16;
841           end;
842           else do;
843           _new_id_ = 15;
844           end;
845     end;
846     else if _node_id_ eq 10 then do;
847           _leaf_id_ = 10;
848           _new_id_ = -1;
849           _dt_pred_lev_ = 0;
850           _dt_pred_prob_ =                    1;
851           _dt_fi_5012850_{1} =                    1;
852           _dt_fi_5012850_{2} =                    0;
853     end;
854     else if _node_id_ eq 11 then do;
855           _numval_ = IMP_CLAGE;
856           if missing(_numval_) then do;
857              _node_id_ = 17;
858              goto nextnode_5012850;
859           end;
860           if (_numval_ ge 0 and _numval_ lt 186.996275468425) then do;
861  
862              _new_id_ = 17;
863           end;
864           else if (_numval_ ge 186.996275468425 and _numval_ lt 1168.2335609) then do;
865  
866              _new_id_ = 18;
867           end;
868           else if (_numval_ lt 0) then do;
869              _new_id_ = 17;
870           end;
871           else if (_numval_ ge 1168.2335609) then do;
872              _new_id_ = 18;
873           end;
874           else do;
875           _new_id_ = 17;
876           end;
877     end;
878     else if _node_id_ eq 12 then do;
879           _numval_ = IMP_DEBTINC;
880           if missing(_numval_) then do;
881              _node_id_ = 19;
882              goto nextnode_5012850;
17                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

883           end;
884           if (_numval_ ge 0.5244992154 and _numval_ lt 43.9169958330393) then do;
885  
886              _new_id_ = 19;
887           end;
888           else if (_numval_ ge 43.9169958330393 and _numval_ lt 203.31214869) then do;
889  
890              _new_id_ = 20;
891           end;
892           else if (_numval_ lt 0.5244992154) then do;
893              _new_id_ = 19;
894           end;
895           else if (_numval_ ge 203.31214869) then do;
896              _new_id_ = 20;
897           end;
898           else do;
899           _new_id_ = 19;
900           end;
901     end;
902     else if _node_id_ eq 13 then do;
903           _leaf_id_ = 13;
904           _new_id_ = -1;
905           _dt_pred_lev_ = 0;
906           _dt_pred_prob_ =                    1;
907           _dt_fi_5012850_{1} =                    1;
908           _dt_fi_5012850_{2} =                    0;
909     end;
910     else if _node_id_ eq 14 then do;
911           _leaf_id_ = 14;
912           _new_id_ = -1;
913           _dt_pred_lev_ = 1;
914           _dt_pred_prob_ =     0.86046511627906;
915           _dt_fi_5012850_{1} =     0.13953488372093;
916           _dt_fi_5012850_{2} =     0.86046511627906;
917     end;
918     else if _node_id_ eq 15 then do;
919           _leaf_id_ = 15;
920           _new_id_ = -1;
921           _dt_pred_lev_ = 1;
922           _dt_pred_prob_ =     0.83464566929133;
923           _dt_fi_5012850_{1} =     0.16535433070866;
924           _dt_fi_5012850_{2} =     0.83464566929133;
925     end;
926     else if _node_id_ eq 16 then do;
927           _leaf_id_ = 16;
928           _new_id_ = -1;
929           _dt_pred_lev_ = 0;
930           _dt_pred_prob_ =                    1;
931           _dt_fi_5012850_{1} =                    1;
932           _dt_fi_5012850_{2} =                    0;
933     end;
934     else if _node_id_ eq 17 then do;
935           _leaf_id_ = 17;
936           _new_id_ = -1;
937           _dt_pred_lev_ = 0;
938           _dt_pred_prob_ =     0.57758620689655;
939           _dt_fi_5012850_{1} =     0.57758620689655;
940           _dt_fi_5012850_{2} =     0.42241379310344;
18                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

941     end;
942     else if _node_id_ eq 18 then do;
943           _leaf_id_ = 18;
944           _new_id_ = -1;
945           _dt_pred_lev_ = 1;
946           _dt_pred_prob_ =     0.68840579710144;
947           _dt_fi_5012850_{1} =     0.31159420289855;
948           _dt_fi_5012850_{2} =     0.68840579710144;
949     end;
950     else if _node_id_ eq 19 then do;
951           _leaf_id_ = 19;
952           _new_id_ = -1;
953           _dt_pred_lev_ = 1;
954           _dt_pred_prob_ =     0.94206349206349;
955           _dt_fi_5012850_{1} =      0.0579365079365;
956           _dt_fi_5012850_{2} =     0.94206349206349;
957     end;
958     else if _node_id_ eq 20 then do;
959           _leaf_id_ = 20;
960           _new_id_ = -1;
961           _dt_pred_lev_ = 0;
962           _dt_pred_prob_ =                 0.75;
963           _dt_fi_5012850_{1} =                 0.75;
964           _dt_fi_5012850_{2} =                 0.25;
965     end;
966     if _new_id_ >= 0 then do;
967         _node_id_ = _new_id_;
968        goto nextnode_5012850;
969     end;
970  
971     length I_BAD $12;
972     I_BAD = _tlevname_5012850_{_dt_pred_lev_+1};
973     label I_BAD = 'Into: BAD';
974     _i_ = 1;
975     _dt_predp_ = _dt_fi_5012850_{_i_};
976     P_BAD1 = _dt_predp_;
977     label P_BAD1 = 'Predicted: BAD=1';
978     _i_+1;
979     _dt_predp_ = _dt_fi_5012850_{_i_};
980     P_BAD0 = _dt_predp_;
981     label P_BAD0 = 'Predicted: BAD=0';
982     _i_+1;
983     drop _dt_predp_;
984     drop _i_;
985     drop _dt_pred_lev_;
986     drop _dt_pred_prob_;
987     drop _numval_;
988     drop _node_id_;
989     drop _new_id_;
990  
991  
992  
993     *------------------------------------------------------------*;
994     * Initializing missing posterior and classification variables ;
995     *------------------------------------------------------------*;
996     label "P_BAD0"n ='Predicted: BAD=0';
997     if "P_BAD0"n = . then "P_BAD0"n =0.8005033557;
998     label "P_BAD1"n ='Predicted: BAD=1';
19                                                         The SAS System                         Tuesday, June 21, 2022 08:14:00 PM

999     if "P_BAD1"n = . then "P_BAD1"n =0.1994966443;
1000     label "I_BAD"n ='Into: BAD';
1001     if missing('I_BAD'n) then do;
1002        drop _P_;
1003        _P_= 0.0 ;
1004        if 'P_BAD1'n > _P_ then do;
1005        _P_ = 'P_BAD1'n;
1006        'I_BAD'n = '           1';
1007        end;
1008        if 'P_BAD0'n > _P_ then do;
1009        _P_ = 'P_BAD0'n;
1010        'I_BAD'n = '           0';
1011        end;
1012     end;
1013  *------------------------------------------------------------*;
1014  * Generating fixed output names;
1015  *------------------------------------------------------------*;
1016  Length EM_EVENTPROBABILITY 8;
1017  LABEL EM_EVENTPROBABILITY = "Probability for BAD =1";
1018  EM_EVENTPROBABILITY ='P_BAD1'n;
1019  LENGTH EM_CLASSIFICATION $12;
1020  LABEL EM_CLASSIFICATION= "Predicted for BAD";
1021  EM_CLASSIFICATION ='I_BAD'n;
1022  Length EM_PROBABILITY 8;
1023  LABEL EM_PROBABILITY = "Probability of Classification";
1024  EM_PROBABILITY = max(
1025  'P_BAD1'n,
1026  'P_BAD0'n);
1027  
1028  endsubmit;
1029  run;

NOTE: PROCEDURE DSTRANS used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
      

1030  

