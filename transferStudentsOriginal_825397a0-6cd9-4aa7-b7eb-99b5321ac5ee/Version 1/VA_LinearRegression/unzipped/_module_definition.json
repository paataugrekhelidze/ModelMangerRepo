{"scope":"PUBLIC","source":"package VA_LinearRegression / overwrite=yes;\ndcl package pymas pm;\ndcl package logger logr('App.MM.Python.DS2');\ndcl varchar(32767) character set utf8 pypgm;\ndcl int resultCode revision;\n\nmethod score(double \"ACT_COMP\",\ndouble \"ACT_ENGL\",\ndouble \"ACT_MATH\",\ndouble \"ACT_READ\",\ndouble \"ACT_SCIENCE\",\ndouble \"ACT_WRITING\",\ndouble \"AGE\",\ndouble \"CNSS_TGPA\",\ndouble \"College\",\ndouble \"HS_GPA\",\ndouble \"Ratio_B_to_A\",\ndouble \"Ratio_C_to_A\",\ndouble \"Ratio_C_to_B\",\ndouble \"Ratio_D_to_A\",\ndouble \"Ratio_D_to_B\",\ndouble \"Ratio_D_to_C\",\ndouble \"Ratio_F_to_A\",\ndouble \"Ratio_F_to_B\",\ndouble \"Ratio_F_to_C\",\ndouble \"Ratio_F_to_D\",\ndouble \"SAT_ES_SUB\",\ndouble \"SAT_MATH\",\ndouble \"SAT_MUL_CHCE\",\ndouble \"SAT_VERBAL\",\ndouble \"SAT_WRITING\",\ndouble \"TOTAL_SAT\",\nvarchar(100) \"AFFIL_ALUM_R1\",\nvarchar(100) \"AFFIL_ALUM_R2\",\nvarchar(100) \"AFFIL_RELATION1\",\nvarchar(100) \"AFFIL_RELATION2\",\nvarchar(100) \"CNSS_LOAD\",\nin_out double resultCode,\nin_out double \"P_EOT_SGPA\");\n\n   resultCode = revision = 0;\n   if null(pm) then do;\n      pm = _new_ pymas();\n      resultCode = pm.useModule('model_exec_fd55331a-c15e-4588-96eb-06ae51785847', 1);\n      if resultCode then do;\n         resultCode = pm.appendSrcLine('import sys');\n         resultCode = pm.appendSrcLine('sys.path.append(\"/modules/be2af62c-66cc-4e23-8825-c4d514108530/\")');\n         resultCode = pm.appendSrcLine('import settings_be2af62c_66cc_4e23_8825_c4d514108530');\n         resultCode = pm.appendSrcLine('settings_be2af62c_66cc_4e23_8825_c4d514108530.pickle_path = \"/modules/be2af62c-66cc-4e23-8825-c4d514108530/\"');\n         resultCode = pm.appendSrcLine('import VA_LinearRegression_a8676db3_95a8_4d89_bfae_90f23f86d201');\n         resultCode = pm.appendSrcLine('def scoreModel(ACT_COMP, ACT_ENGL, ACT_MATH, ACT_READ, ACT_SCIENCE, ACT_WRITING, AGE, CNSS_TGPA, College, HS_GPA, Ratio_B_to_A, Ratio_C_to_A, Ratio_C_to_B, Ratio_D_to_A, Ratio_D_to_B, Ratio_D_to_C, Ratio_F_to_A, Ratio_F_to_B, Ratio_F_to_C, Ratio_F_to_D, SAT_ES_SUB, SAT_MATH, SAT_MUL_CHCE, SAT_VERBAL, SAT_WRITING, TOTAL_SAT, AFFIL_ALUM_R1, AFFIL_ALUM_R2, AFFIL_RELATION1, AFFIL_RELATION2, CNSS_LOAD):');\n         resultCode = pm.appendSrcLine('    \"Output: P_EOT_SGPA\"');\n         resultCode = pm.appendSrcLine('    return VA_LinearRegression_a8676db3_95a8_4d89_bfae_90f23f86d201.scoreModel(ACT_COMP, ACT_ENGL, ACT_MATH, ACT_READ, ACT_SCIENCE, ACT_WRITING, AGE, CNSS_TGPA, College, HS_GPA, Ratio_B_to_A, Ratio_C_to_A, Ratio_C_to_B, Ratio_D_to_A, Ratio_D_to_B, Ratio_D_to_C, Ratio_F_to_A, Ratio_F_to_B, Ratio_F_to_C, Ratio_F_to_D, SAT_ES_SUB, SAT_MATH, SAT_MUL_CHCE, SAT_VERBAL, SAT_WRITING, TOTAL_SAT, AFFIL_ALUM_R1, AFFIL_ALUM_R2, AFFIL_RELATION1, AFFIL_RELATION2, CNSS_LOAD)');\n\n         revision = pm.publish(pm.getSource(), 'model_exec_fd55331a-c15e-4588-96eb-06ae51785847');\n         if ( revision \u003c 1 ) then do;\n            logr.log( 'e', 'py.publish() failed.');\n            resultCode = -1;\n            return;\n         end;\n      end;\n   end;\n\n   resultCode = pm.useMethod('scoreModel');\n   if resultCode then do;\n      logr.log('E', 'useMethod() failed. resultCode=$s', resultCode);\n      return;\n   end;\n   resultCode = pm.setDouble('ACT_COMP', ACT_COMP);\n   if resultCode then\n      logr.log('E', 'setDouble for ACT_COMP failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('ACT_ENGL', ACT_ENGL);\n   if resultCode then\n      logr.log('E', 'setDouble for ACT_ENGL failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('ACT_MATH', ACT_MATH);\n   if resultCode then\n      logr.log('E', 'setDouble for ACT_MATH failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('ACT_READ', ACT_READ);\n   if resultCode then\n      logr.log('E', 'setDouble for ACT_READ failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('ACT_SCIENCE', ACT_SCIENCE);\n   if resultCode then\n      logr.log('E', 'setDouble for ACT_SCIENCE failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('ACT_WRITING', ACT_WRITING);\n   if resultCode then\n      logr.log('E', 'setDouble for ACT_WRITING failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('AGE', AGE);\n   if resultCode then\n      logr.log('E', 'setDouble for AGE failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('CNSS_TGPA', CNSS_TGPA);\n   if resultCode then\n      logr.log('E', 'setDouble for CNSS_TGPA failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('College', College);\n   if resultCode then\n      logr.log('E', 'setDouble for College failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('HS_GPA', HS_GPA);\n   if resultCode then\n      logr.log('E', 'setDouble for HS_GPA failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_B_to_A', Ratio_B_to_A);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_B_to_A failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_C_to_A', Ratio_C_to_A);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_C_to_A failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_C_to_B', Ratio_C_to_B);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_C_to_B failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_D_to_A', Ratio_D_to_A);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_D_to_A failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_D_to_B', Ratio_D_to_B);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_D_to_B failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_D_to_C', Ratio_D_to_C);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_D_to_C failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_F_to_A', Ratio_F_to_A);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_F_to_A failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_F_to_B', Ratio_F_to_B);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_F_to_B failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_F_to_C', Ratio_F_to_C);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_F_to_C failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('Ratio_F_to_D', Ratio_F_to_D);\n   if resultCode then\n      logr.log('E', 'setDouble for Ratio_F_to_D failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('SAT_ES_SUB', SAT_ES_SUB);\n   if resultCode then\n      logr.log('E', 'setDouble for SAT_ES_SUB failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('SAT_MATH', SAT_MATH);\n   if resultCode then\n      logr.log('E', 'setDouble for SAT_MATH failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('SAT_MUL_CHCE', SAT_MUL_CHCE);\n   if resultCode then\n      logr.log('E', 'setDouble for SAT_MUL_CHCE failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('SAT_VERBAL', SAT_VERBAL);\n   if resultCode then\n      logr.log('E', 'setDouble for SAT_VERBAL failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('SAT_WRITING', SAT_WRITING);\n   if resultCode then\n      logr.log('E', 'setDouble for SAT_WRITING failed.  resultCode=$s', resultCode);\n   resultCode = pm.setDouble('TOTAL_SAT', TOTAL_SAT);\n   if resultCode then\n      logr.log('E', 'setDouble for TOTAL_SAT failed.  resultCode=$s', resultCode);\n   resultCode = pm.setString('AFFIL_ALUM_R1', AFFIL_ALUM_R1);\n   if resultCode then\n      logr.log('E', 'setString for AFFIL_ALUM_R1 failed.  resultCode=$s', resultCode);\n   resultCode = pm.setString('AFFIL_ALUM_R2', AFFIL_ALUM_R2);\n   if resultCode then\n      logr.log('E', 'setString for AFFIL_ALUM_R2 failed.  resultCode=$s', resultCode);\n   resultCode = pm.setString('AFFIL_RELATION1', AFFIL_RELATION1);\n   if resultCode then\n      logr.log('E', 'setString for AFFIL_RELATION1 failed.  resultCode=$s', resultCode);\n   resultCode = pm.setString('AFFIL_RELATION2', AFFIL_RELATION2);\n   if resultCode then\n      logr.log('E', 'setString for AFFIL_RELATION2 failed.  resultCode=$s', resultCode);\n   resultCode = pm.setString('CNSS_LOAD', CNSS_LOAD);\n   if resultCode then\n      logr.log('E', 'setString for CNSS_LOAD failed.  resultCode=$s', resultCode);\n   resultCode = pm.execute();\n   if (resultCode) then\n      logr.log('E', 'Error: pm.execute failed.  resultCode=$s', resultCode);\n   else do;\n      \"P_EOT_SGPA\" = pm.getDouble('P_EOT_SGPA');\n   end;\nend;\n\n endpackage;","properties":[{"name":"sourceURI","value":"/modelRepository/models/be2af62c-66cc-4e23-8825-c4d514108530"}]}